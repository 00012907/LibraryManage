extends layout.pug 

block content 
    section.section.page
        if book
            form.form#update-form(data-id= book.id)
                label Title
                span#title-error
                input.input#title(type="text", name="title" value= book.title required)

                label Author
                span#author-error
                input.input#author(type="text", name="author" value= book.author required)

                label Year
                span#year-error
                input.input#year(type="number", name="year", value= book.year max="2023" required)

                label Module 
                span#module
                select.input#module(name="module")
                    each module in modules 
                        if module.moduleId == book.module
                            option(value= module.title, selected) #{ module.title}
                        else      
                            option(value= module.title) #{ module.title }
                button.input#update-record Update             
        
        else 
            form.form#add-form()
                label Title
                span#title-error
                input.input#title(type="text", name="title")

                label Author
                span#author-error
                input.input#author(type="text", name="author")

                label Year
                span#year-error
                input.input#year(type="number", name="year" min="1" max="2023" )

                label Module 
                select.input#module(name="module")
                    each module in modules 
                        option(value= module.title, selected) #{ module.title }     
                
                button.input#submit Submit 
                script(src="/create.js") 
